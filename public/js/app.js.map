{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["\n\n\n(function () {\n    let config= {\n        paths: {\n            addSplashBgurl : \"/getSplashBg/\"\n        },\n        selectors: {\n            submitButton: \".nlp-app__submitBtn\",\n            inputField: \".nlp__inputText\"\n        }\n\n    };\n    \n    function addSplashBg(url) {\n\n        const unsplashUrl = url;\n        fetch(unsplashUrl)\n    \n        .then(function (response) {\n                return response.json();\n            })\n\n        .then(function (returned_data) {\n\n            let number = Math.floor(Math.random() * 10) + 1;\n            document.body.style.backgroundImage = \"url(\" + returned_data[number].urls.full + \")\";\n        });\n    }\n\n    // add bg in the door \n    addSplashBg(config.paths.addSplashBgurl);\n\n    // toastr options \n    toastr.options = {\n        \"closeButton\": true,\n        \"debug\": false,\n        \"newestOnTop\": false,\n        \"progressBar\": false,\n        \"positionClass\": \"toast-top-center\",\n        \"preventDuplicates\": true,\n        \"onclick\": null,\n        \"showDuration\": \"0\",\n        \"hideDuration\": \"0\",\n        \"timeOut\": \"0\",\n        \"extendedTimeOut\": \"0\",\n        \"showEasing\": \"swing\",\n        \"hideEasing\": \"linear\",\n        \"showMethod\": \"fadeIn\",\n        \"hideMethod\": \"fadeOut\"\n    }\n\n\n//     var isWeather = false;\n        \n//     function loader(isLoaderShown){\n//         if(isLoaderShown){   \n//             $(\".loader\").show();\n//         }\n//         else if(isLoaderShown === false){\n//             $(\".loader\").hide();\n//         }\n//     }\n//     function getuserlocation() {\n//         function success(position) {\n//                 if(isWeather){\n//                     getWeather(position);\n//                 }\n//                 else{\n//                     return position;\n//                 }\n//             }\n//             function error() {\n//                 console.log(\"Unable to retrieve your location\");\n//             }\n//             return navigator.geolocation.getCurrentPosition(success, error);\n//         }\n\n//     // event listener and handler for submit button\n\n    // $(\".nlp-app__submitBtn\").on(\"click\",function(e){\n    //     e.preventDefault();\n    //     toastr.success($(\".nlp__inputText\").val())\n    //     loader(true);\n    //     $(\"#responde\").html(\"\");\n    //     callWitAi($(\".nlp__inputText\").val());\n        \n    // })\n\n    const submitButton = document.querySelector(config.selectors.submitButton);\n\n    submitButton.addEventListener(\"click\", function(event){\n        event.preventDefault();\n        // console.log(\"submit clicked\");\n        var inputFieldValue = document.querySelector(config.selectors.inputField).value;\n        if(inputFieldValue){\n            callWitAi(inputFieldValue);\n            toastr.success(inputFieldValue);\n        }\n        else{\n            console.log(\"no input value\");\n        }\n        \n    })\n    \n    function callWitAi(msg) {\n        $.ajax({\n            url: '/goToWit/',\n            data: {\n                'q': msg\n            },\n            method: 'GET',\n            success: function (response) {\n\n                console.log(\"response\",response);\n\n                if(response.bye){\n\n                    console.log(response.bye);\n                    toastr.warning(\"so long\")\n                }\n                else if (response.greetings) {\n\n                    console.log(response.greetings, \"greetings\")\n                    toastr.warning(\"how are you?\")\n                }\n                else if(response.attributes){\n\n                    console.log(response.attributes, \"attributes\");\n\n                    var content = \"\";\n                    for (key in response.attributes){\n                        //toastr.warning(key + \":\" +  response.attributes[key]);\n                        content += key + \":\" +  response.attributes[key] + \"<br />\"\n\n                    }\n\n                    toastr.warning(content);\n\n                    \n                   \n                }\n\n            },\n            error: function (error) {\n                console.log(\"error\", error)\n            }\n        });\n    }\n//     function convertTemp(temp) {\n//         return (9 / 5) * (temp - 273) + 23;\n//     };\n//     function printValues(obj) {\n//         loader(false);\n//         $(\"#responde\").html(\"\");\n//         for (var key in obj) {\n//             if (typeof obj[key] === \"object\" && obj[key] !== null) {\n//                 printObj(obj[key]);\n//             } else {\n//                 $(\"#responde\").append(key + \":\" + obj[key] + \"<br/>\");\n              \n                \n//             }\n//         }\n//     }\n//     function printObj(obj) {\n//         for (var key in obj) {\n//             if (typeof obj[key] === \"object\") {\n//                 printObj(obj[key]);\n//             } else {\n//                 // $(\"#responde\").append(key + \":\" + obj[key] + \"<br/>\");\n//                 toastr.options = {\n//                     \"closeButton\": false,\n//                     \"debug\": false,\n//                     \"newestOnTop\": false,\n//                     \"progressBar\": false,\n//                     \"positionClass\": \"toast-top-left\",\n//                     \"preventDuplicates\": true,\n//                     \"onclick\": null,\n//                     \"showDuration\": \"1000\",\n//                     \"hideDuration\": \"1000\",\n//                     \"timeOut\": \"5000\",\n//                     \"extendedTimeOut\": \"1000\",\n//                     \"showEasing\": \"swing\",\n//                     \"hideEasing\": \"linear\",\n//                     \"showMethod\": \"fadeIn\",\n//                     \"hideMethod\": \"fadeOut\"\n//                 }\n//                 toastr.warning(key + \":\" + obj[key])\n//             }\n//         }\n//     }\n//     function getWeather(coords) {\n//         $.ajax({\n//             url: '/getWeather/',\n//             data: {\n//                 'lat': coords.coords.latitude,\n//                 'lon': coords.coords.longitude,\n//             },\n//             success: function (data) {\n//                 let dataObj = JSON.parse(data);\n//                 console.log(\"weather data object\", dataObj)\n//                 printValues(dataObj);\n//             },\n\n//             error: function (err) {\n//                 console.log(\"error\", err);\n//             }\n//         });\n//     };\n//     function printLocation(coords) {\n//         $(\"#responde\").html(`<strong>Latitude:</strong> ${coords.latitude} <br /> <strong>Longitude:</strong> ${coords.longitude} `);\n//     }\n\n})(); "]}